\section{THIR Example}
\lstinputlisting[
  language=Rust,
  caption={Example of a function body in pretty-printed THIR.},
  label={apx:thir-example}
]{code/thir.rs}

\clearpage
\section{Rust Benchmarks}

These code examples are taken from the test suite of Rust-Stainless.

\subsubsection{Insertion Sort}
\lstinputlisting[
  language=Rust,
  caption={{Insertion sort, translated from the equivalent Scala benchmark of Stainless.}},
  label={lst:insertion-sort}
]{code/insertion_sort.rs}

\subsubsection{Type Class}
\lstinputlisting[
  language=Rust,
  caption={Type class example for an equality trait and two implementations.},
  label={lst:type-class}
]{code/type_class.rs}

\clearpage
\section{Informal Systems Code}

\subsubsection{PeerList}

The verified \lstinline!PeerList! module has two files. The data structure and
a supporting list-map implementation in the second one.

\lstinputlisting[
  language=Rust,
  caption={
    Verified version of the PeerList data structure.
    The original version can be found here:
    \url{https://github.com/informalsystems/tendermint-rs/blob/d8e18c647cd8695d16610c4292b15ec6d1b45fbc/light-client/src/peer_list.rs}
  },
  label={apx:peerlist}
]{code/lib.rs}

\lstinputlisting[
  language=Rust,
  caption={
    Supporting list-backed implementations to replace \lstinline!HashMap! and
    \lstinline!HashSet!.
  },
  label={apx:listmap}
]{code/list.rs}
